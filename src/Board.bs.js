// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE
'use strict';

var $$Array = require("bs-platform/lib/js/array.js");
var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Caml_array = require("bs-platform/lib/js/caml_array.js");
var Square$ReactHooksTemplate = require("./Square.bs.js");

function Board(Props) {
  var match = React.useState((function () {
          return Caml_array.caml_make_vect(9, "");
        }));
  var setSquares = match[1];
  var squares = match[0];
  var match$1 = React.useState((function () {
          return true;
        }));
  var setXNext = match$1[1];
  var xNext = match$1[0];
  var renderSquare = function (i) {
    return React.createElement(Square$ReactHooksTemplate.make, {
                value: Caml_array.caml_array_get(squares, i),
                onClick: (function (_event) {
                    var i$1 = i;
                    var newSquares = $$Array.copy(squares);
                    Caml_array.caml_array_set(newSquares, i$1, xNext ? "X" : "O");
                    Curry._1(setSquares, (function (param) {
                            return newSquares;
                          }));
                    return Curry._1(setXNext, (function (xNext) {
                                  return !xNext;
                                }));
                  })
              });
  };
  var status = "Next player: " + (
    xNext ? "X" : "O"
  );
  return React.createElement("div", undefined, React.createElement("div", {
                  className: "status"
                }, status), React.createElement("div", {
                  className: "board-row"
                }, renderSquare(0), renderSquare(1), renderSquare(2)), React.createElement("div", {
                  className: "board-row"
                }, renderSquare(3), renderSquare(4), renderSquare(5)), React.createElement("div", {
                  className: "board-row"
                }, renderSquare(6), renderSquare(7), renderSquare(8)));
}

var make = Board;

exports.make = make;
/* react Not a pure module */
